### “循环体与闭包” 系列

```javascript
for (var i = 0; i < 5; i++) {
    setTimeout(function() {
        console.log(i);
    }, 1000);
}

console.log(i);
```

### “复杂作用域” 系列

解题技巧：`画图 + 定位变量`

上真题：

```JavaScript
var a = 1;
function test(){
    a = 2;
    return function(){
        console.log(a);
    }
    var a = 3;
}
test()(); // a = 2
```

此题的关键是，test 作用域里的变量值，到底是2还是3？

> 词法作用域，只和书写的`位置`有关！不考虑如何`执行`！！

所以匿名函数在 a=3 赋值之前，此时 a=2 